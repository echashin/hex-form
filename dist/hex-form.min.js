!function(e){"use strict";var t={widgets:{},validators:{},directives:{},utils:{}};t.utils.toCamel=function(e){return e.replace(/[-_]([a-z])/g,function(e){return e[1].toUpperCase()})},t.utils.isInt=function(e){return!isNaN(e)&&function(e){return(0|e)===e}(parseFloat(e))},t.utils.arrayUniq=function(e){for(var t={},n=[],r=e.length,a=0,i=0;r>i;i++){var o=e[i];1!==t[o]&&(t[o]=1,n[a++]=o)}return n},t.utils.exprToFunc=function(e){e=e.replace(/\[['"]/g,".").replace(/['"]]/g,"").replace(/\[(\D+)]/,".$1");for(var t=/([a-z_$][a-z_$.0-9\[\]'"]+)/gi,n=[],r=e.replace(/'[^']*'/g,"").replace(/"[^"]*"/g,"").match(t),a=0,i=r.length;i>a;a++){var o=r[a];if(""!==o&&"undefined"!==o){var s=o.replace(/['"]/gi,"").replace(/\[/g,".").replace(/]/g,"").replace(/\.+/g,".").replace(/^\./,"").replace(/\.$/,"");s="['"+s.split(".").join("']['")+"']",-1===n.indexOf(s)&&n.push(s);var u="[^a-z0-9_\\[\\]\\+\\=\\-\\|\\&\\!\\/\\*\\\"'\\040]*";u+=o.replace(/#/g,"\\#").replace(/\$/g,"\\$").replace(/\./g,"\\.").replace(/\[/g,"\\[").replace(/]/g,"\\]"),u+="[^a-z0-9_\\[\\]\\+\\=\\-\\|\\&\\!\\/\\*\\\"'\\040]*";var d=new RegExp(u,"gi");e=e.replace(d,"__data"+s)}}var l='var r="";try{var r='+e+';}catch (e){console.log(e);return "error"};return r;';return{vars:n,func:l}},t.utils.objectExtend=function(e,n){void 0===n&&(n={});for(var r in e)$.isArray(e[r])||$.isPlainObject(e[r])?t.utils.objectExtend(e[r],n[r]):void 0===n[r]||($.isArray(e)?e.push(n):e[r]=n[r]);for(var a in n)JSON.stringify(e[a])!==JSON.stringify(n[a])&&($.isArray(n[a])?(void 0===e[a]&&(e[a]=[]),t.utils.objectExtend(e[a],n[a])):$.isPlainObject(n[a])?void 0===e[a]&&(e[a]={}):e[a]=n[a])},t.utils.objectProperty=function(e,n,r){if(t.utils.isEmpty(n))return e;var a=n.replace(/['"]/g,"").replace(/[\[\]]/g,".").replace(/\.+/g,".").replace(/\.$/,"").split("."),i=a.length-1,o=e;if(void 0!==r)for(var s=0;i>=s;s++){var u=a[s];""!==u&&(i>s?(void 0===o[u]&&(t.utils.isInt(u)?o[u]=[]:o[u]={}),o=o[u]):o[u]=r)}else for(var d=0;i>=d;d++){var l=a[d];if(""!==l){if(!(i>d))return o[l];if(void 0===o[l])return;o=o[l]}}},t.utils.isEmpty=function(e){return!!(null===e||e===!1||void 0===e||""===e||$.isArray(e)&&0===e.length)},t.utils.getAttributes=function(e){for(var t={},n=e[0].attributes,r=n.length,a=0;r>a;a++)t[n[a].name.toLowerCase()]=n[a].value;return t},t.utils.md5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,a,i,o;return a=2147483648&e,i=2147483648&t,n=1073741824&e,r=1073741824&t,o=(1073741823&e)+(1073741823&t),n&r?2147483648^o^a^i:n|r?1073741824&o?3221225472^o^a^i:1073741824^o^a^i:o^a^i}function r(e,t,n){return e&t|~e&n}function a(e,t,n){return e&n|t&~n}function i(e,t,n){return e^t^n}function o(e,t,n){return t^(e|~n)}function s(e,a,i,o,s,u,d){return e=n(e,n(n(r(a,i,o),s),d)),n(t(e,u),a)}function u(e,r,i,o,s,u,d){return e=n(e,n(n(a(r,i,o),s),d)),n(t(e,u),r)}function d(e,r,a,o,s,u,d){return e=n(e,n(n(i(r,a,o),s),d)),n(t(e,u),r)}function l(e,r,a,i,s,u,d){return e=n(e,n(n(o(r,a,i),s),d)),n(t(e,u),r)}function c(e){for(var t,n=e.length,r=n+8,a=(r-r%64)/64,i=16*(a+1),o=new Array(i-1),s=0,u=0;n>u;)t=(u-u%4)/4,s=u%4*8,o[t]=o[t]|e.charCodeAt(u)<<s,u++;return t=(u-u%4)/4,s=u%4*8,o[t]=o[t]|128<<s,o[i-2]=n<<3,o[i-1]=n>>>29,o}function f(e){var t,n,r="",a="";for(n=0;3>=n;n++)t=e>>>8*n&255,a="0"+t.toString(16),r+=a.substr(a.length-2,2);return r}function v(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var h,p,g,m,x,b,w,k,y,$=[],E=7,C=12,D=17,O=22,S=5,P=9,N=14,j=20,I=4,F=11,B=16,V=23,z=6,L=10,A=15,T=21;for(e=v(e),$=c(e),b=1732584193,w=4023233417,k=2562383102,y=271733878,h=0;h<$.length;h+=16)p=b,g=w,m=k,x=y,b=s(b,w,k,y,$[h+0],E,3614090360),y=s(y,b,w,k,$[h+1],C,3905402710),k=s(k,y,b,w,$[h+2],D,606105819),w=s(w,k,y,b,$[h+3],O,3250441966),b=s(b,w,k,y,$[h+4],E,4118548399),y=s(y,b,w,k,$[h+5],C,1200080426),k=s(k,y,b,w,$[h+6],D,2821735955),w=s(w,k,y,b,$[h+7],O,4249261313),b=s(b,w,k,y,$[h+8],E,1770035416),y=s(y,b,w,k,$[h+9],C,2336552879),k=s(k,y,b,w,$[h+10],D,4294925233),w=s(w,k,y,b,$[h+11],O,2304563134),b=s(b,w,k,y,$[h+12],E,1804603682),y=s(y,b,w,k,$[h+13],C,4254626195),k=s(k,y,b,w,$[h+14],D,2792965006),w=s(w,k,y,b,$[h+15],O,1236535329),b=u(b,w,k,y,$[h+1],S,4129170786),y=u(y,b,w,k,$[h+6],P,3225465664),k=u(k,y,b,w,$[h+11],N,643717713),w=u(w,k,y,b,$[h+0],j,3921069994),b=u(b,w,k,y,$[h+5],S,3593408605),y=u(y,b,w,k,$[h+10],P,38016083),k=u(k,y,b,w,$[h+15],N,3634488961),w=u(w,k,y,b,$[h+4],j,3889429448),b=u(b,w,k,y,$[h+9],S,568446438),y=u(y,b,w,k,$[h+14],P,3275163606),k=u(k,y,b,w,$[h+3],N,4107603335),w=u(w,k,y,b,$[h+8],j,1163531501),b=u(b,w,k,y,$[h+13],S,2850285829),y=u(y,b,w,k,$[h+2],P,4243563512),k=u(k,y,b,w,$[h+7],N,1735328473),w=u(w,k,y,b,$[h+12],j,2368359562),b=d(b,w,k,y,$[h+5],I,4294588738),y=d(y,b,w,k,$[h+8],F,2272392833),k=d(k,y,b,w,$[h+11],B,1839030562),w=d(w,k,y,b,$[h+14],V,4259657740),b=d(b,w,k,y,$[h+1],I,2763975236),y=d(y,b,w,k,$[h+4],F,1272893353),k=d(k,y,b,w,$[h+7],B,4139469664),w=d(w,k,y,b,$[h+10],V,3200236656),b=d(b,w,k,y,$[h+13],I,681279174),y=d(y,b,w,k,$[h+0],F,3936430074),k=d(k,y,b,w,$[h+3],B,3572445317),w=d(w,k,y,b,$[h+6],V,76029189),b=d(b,w,k,y,$[h+9],I,3654602809),y=d(y,b,w,k,$[h+12],F,3873151461),k=d(k,y,b,w,$[h+15],B,530742520),w=d(w,k,y,b,$[h+2],V,3299628645),b=l(b,w,k,y,$[h+0],z,4096336452),y=l(y,b,w,k,$[h+7],L,1126891415),k=l(k,y,b,w,$[h+14],A,2878612391),w=l(w,k,y,b,$[h+5],T,4237533241),b=l(b,w,k,y,$[h+12],z,1700485571),y=l(y,b,w,k,$[h+3],L,2399980690),k=l(k,y,b,w,$[h+10],A,4293915773),w=l(w,k,y,b,$[h+1],T,2240044497),b=l(b,w,k,y,$[h+8],z,1873313359),y=l(y,b,w,k,$[h+15],L,4264355552),k=l(k,y,b,w,$[h+6],A,2734768916),w=l(w,k,y,b,$[h+13],T,1309151649),b=l(b,w,k,y,$[h+4],z,4149444226),y=l(y,b,w,k,$[h+11],L,3174756917),k=l(k,y,b,w,$[h+2],A,718787259),w=l(w,k,y,b,$[h+9],T,3951481745),b=n(b,p),w=n(w,g),k=n(k,m),y=n(y,x);var _=f(b)+f(w)+f(k)+f(y);return _.toLowerCase()},e.hex=t}(window);var hex=function(e){"use strict";return e.directives.Bind=function(t){function n(t){switch(t=e.utils.objectProperty(t,i),o){case"html":a.get(0).innerHTML=s(t);break;default:a.attr(o,s(t))}}function r(){a=t.node,i=t.namespaceFull;var n=a.attr(t.attribute);o=t.attribute.replace("data-hex-bind-","");for(var r=e.utils.exprToFunc(n),d=0,l=r.vars.length;l>d;d++)u.variables.push(i+r.vars[d]);s=new Function("__data",r.func)}var a,i,o,s,u={render:n,variables:[]};return r(),u},e}(hex),hex=function(e){"use strict";return e.directives.Show=function(t){function n(t){t=e.utils.objectProperty(t,o);var n=i.call(null,t);n?a.removeClass("hide"):a.addClass("hide")}function r(){a=$(t.node),a.addClass("hide"),o=t.namespaceFull;for(var n=a.attr("data-hex-show"),r=e.utils.exprToFunc(n),u=0,d=r.vars.length;d>u;u++)s.variables.push(o+r.vars[u]);i=new Function("__data",r.func)}var a,i,o,s={render:n,variables:[]};return r(),s},e}(hex),hex=function(e){"use strict";return e.directives.If=function(t){function n(t){t=e.utils.objectProperty(t,d);var n=i.call(null,t);n===!0?void 0===a&&(a=s.clone(!1),a.insertAfter(o),u.addBlock(a)):void 0!==a&&(a.get(0).getBlock().remove(),a=void 0)}function r(){a=t.node,s=a.clone(!1),a.attr("data-hex-block"),s.attr("data-hex-block");var n=a.attr("data-hex-if");u=t.block,u.addBlock(a),d=t.namespaceFull;for(var r=e.utils.exprToFunc(n),c=0,f=r.vars.length;f>c;c++)l.variables.push(d+r.vars[c]);i=new Function("__data",r.func),o=$(document.createComment("hex-if ("+n+")")),o.insertBefore(a.get(0))}var a,i,o,s,u,d,l={render:n,variables:[]};return r(),l},e}(hex),hex=function(e){"use strict";return e.directives.List=function(t){function n(){return f}function r(e,t){void 0===m[e]&&(m[e]=[]),m[e].indexOf(t)<0&&m[e].push(t)}function a(e,t){void 0!==m[e]&&m[e].splice(m[e].indexOf(t),1)}function i(e,t){if(void 0===m[e])return!0;for(var n in m[e]){var r=m[e][n];r(t)}}function o(e){var t=c.clone(!1);t.attr("data-hex-block",f),l.children(g).size()>0?t.insertAfter(l.children(g).last()):l.prepend(t);var n=h.addBlock(t);return $.isEmptyObject(e)||n.setData(e),i("add",t),n}function s(e){if(!p&&1===l.children(g).size())return!1;var t=e+1,n=l.children(g+":nth-child("+t+")").first();n.size()>0&&n.get(0).getBlock().remove(),l.children(g).each(function(e){var t=$(this).get(0).getBlock(),n=t.getData();if(n.$index=e,t.childBlocks.length>0)for(var r=0,a=t.childBlocks.length;a>r;r++)t.childBlocks[r].getData().$parentIndex=e;$(this).get(0).getBlock().render.draw()}),i("remove",e)}function u(){}function d(){l=$(t.node),h=t.block,f=l.attr("data-hex-list"),void 0===f&&console.warn("list don`t have namespace"),v=t.namespaceFull,void 0===t.data[f]&&e.utils.objectProperty(t.data,f,[]),void 0!==l.attr("data-hex-list-allowempty")&&(p=!0),g='[data-hex-block="'+f+'"]',c=l.children("[data-hex-list-tpl]").first().clone(!1).removeAttr("data-hex-list-tpl"),c.find("[data-hex-if]").attr("data-hex-block",""),l.children("[data-hex-list-tpl]").first().remove(),c.find('a[data-toggle="tab"]').size()>0&&(r("add",function(e){window.setTimeout(function(){e.find('a[data-toggle="tab"]').click()},1)}),r("remove",function(e){var t=e+1;window.setTimeout(function(){var e=l.find(g+":nth-child("+t+")").first();if(e.size()>0)e.find('a[data-toggle="tab"]').click();else{t--;var n=l.find(g+":nth-child("+t+")").first();n.size()>0&&n.find('a[data-toggle="tab"]').click()}},1)})),x.variables.push(v+"['"+f+"']")}var l,c,f,v,h,p=!1,g="[data-hex-block]",m={},x={variables:[],getNamespace:n,render:u,on:r,off:a,trigger:i,add:o,remove:s};return d(),x},e}(hex),hex=function(e){"use strict";return e.directives.ListAdd=function(e){function t(e,t){void 0===s[e]&&(s[e]=[]),s[e].indexOf(t)<0&&s[e].push(t)}function n(e,t){void 0!==s[e]&&s[e].splice(s[e].indexOf(t),1)}function r(e,t){if(void 0===s[e])return!0;for(var n in s[e]){var r=s[e][n];r(t)}}function a(e){i=$(e.node),o=i.attr("data-hex-list-add"),void 0!==i.attr("data-hex-list-add-item")&&(u=JSON.parse(i.attr("data-hex-list-add-item"))),i.on("click",function(e){e.preventDefault(),r("add",{namespace:o,item:u})})}var i,o,s={},u={},d={on:t,off:n,trigger:r};return a(e),d},e}(hex),hex=function(e){"use strict";return e.directives.ListRemove=function(e){function t(e,t){void 0===s[e]&&(s[e]=[]),s[e].indexOf(t)<0&&s[e].push(t)}function n(e,t){void 0!==s[e]&&s[e].splice(s[e].indexOf(t),1)}function r(e,t){if(void 0===s[e])return!0;for(var n in s[e]){var r=s[e][n];r(t)}}function a(e){i=$(e.node),o=i.closest("[data-hex-list]").attr("data-hex-list"),i.on("click",function(e){e.preventDefault();var t=$(this).closest("[data-hex-block]").get(0).getBlock().getData().$index;r("remove",{namespace:o,index:t})})}var i,o,s={},u={on:t,off:n,trigger:r};return a(e),u},e}(hex),hex=function(e){"use strict";return e.widgets.passwordShow=function(e){function t(){r=e.getInputs()[0],n=r.closest(".form-group").find("button.password-show"),n.bind("click",function(e){return e.preventDefault(),"password"===a?(r.attr("type","text"),n.addClass("active"),a="text"):(r.attr("type","password"),n.removeClass("active"),a="password"),r.focus(),!1})}var n,r,a="password";t()},e}(hex),hex=function(e){"use strict";return e.widgets.passwordStrength=function(e){function t(e){return o=e.length>8?1:0,s=e.match(c)?1:0,u=e.match(f)?1:0,d=e.match(v)?1:0,l=e.match(h)?1:0,o+s+u+d+l}function n(){r=e.getInputs()[0],a=r.closest(".form-group").find(".password-strength div"),r.bind("keyup change",function(){var e=r.val();a.attr("class","s-"+t(e))})}var r,a,i=this,o=0,s=0,u=0,d=0,l=0,c=new RegExp("[A-ZА-Я]"),f=new RegExp("[a-zа-я]"),v=new RegExp("[0-9]"),h=new RegExp("([!,%,&,@,#,$,^,*,?,_,~])");i.weight=0,n()},e}(hex),hex=function(e){"use strict";var t=$("html").attr("lang");if(e.utils.isEmpty(t))throw new Error("Doesn`t set lang attr in html tag");return moment.locale(t.toLowerCase()),e.widgets.date=function(t,n){function r(){a=t.getInputs()[0];var r=moment.localeData(),d=r.longDateFormat("L");void 0!==n.timePicker&&n.timePicker===!0&&(d+=" "+r.longDateFormat("LT"));var l={autoUpdateInput:!1,linkedCalendars:!1,singleDatePicker:!0,locale:{format:d,separator:" - ",applyLabel:"Готово",cancelLabel:"Отмена",fromLabel:"От",toLabel:"До",customRangeLabel:"Custom",daysOfWeek:moment.weekdaysShort(),monthNames:moment.months(),firstDay:r.firstDayOfWeek()}};void 0!==n.parentMin&&(s=$(n.parentMin).val(),e.utils.isEmpty(s)||(l.minDate=s),i=n.parentMin,delete n.parentMin),void 0!==n.parentMax&&(u=$(n.parentMax).val(),e.utils.isEmpty(u)||(l.maxDate=u),o=n.parentMax,delete n.parentMax),$.extend(l,n);var c=l.locale.format.replace(/[H]/g,"9").replace(/[m]/g,"9").replace(/[D]+/g,"d").replace(/[M]+/g,"m").replace(/[Y]+/g,"y");l.singleDatePicker===!1&&(c+=l.locale.separator+c),a.inputmask(c);var f=function(){var e=a.data("daterangepicker"),t=e.startDate.format(l.locale.format);l.singleDatePicker===!1&&(t+=l.locale.separator+e.endDate.format(l.locale.format)),a.val(t).trigger("change")};a.daterangepicker(l),a.on("apply.daterangepicker",function(){f()});var v=function(){u=$(o).val(),e.utils.isEmpty(u)?(t.disable(),a.val("").trigger("change")):(l.maxDate=u,a.daterangepicker(l),a.on("apply.daterangepicker",function(){f()}),t.enable(),e.utils.isEmpty(a.val())&&(e.utils.isEmpty(s)?(a.data("daterangepicker").setStartDate(u),a.data("daterangepicker").setEndDate(u)):(a.data("daterangepicker").setStartDate(s),a.data("daterangepicker").setEndDate(s))),f())},h=function(){s=$(i).val(),e.utils.isEmpty(s)?(t.disable(),a.val("").trigger("change")):(l.minDate=s,a.daterangepicker(l),a.on("apply.daterangepicker",function(){f()}),t.enable(),e.utils.isEmpty(a.val())&&(a.data("daterangepicker").setStartDate(s),a.data("daterangepicker").setEndDate(s)),f(),o!==!1&&v())};i!==!1&&$(i).on("change",function(){h()}),o!==!1&&$(o).on("change",function(){v()}),o!==!1&&v(),i!==!1&&h()}var a,i=!1,o=!1,s=!1,u=!1;r()},e}(hex),hex=function(e){"use strict";return e.widgets.mask=function(e,t){function n(){if(r=e.getInputs()[0],void 0===t.mask)throw new Error(r.attr("name")+" doesn`t set mask param");a=t.mask,r.inputmask(a)}var r,a;n()},e}(hex),hex=function(e){"use strict";return e.widgets.phone=function(e,t){function n(){r=e.getInputs()[0],void 0!==t.mask&&(a=t.mask),r.inputmask(a)}var r,a="+7(999)999-99-99";n()},e}(hex),hex=function(e){"use strict";return e.widgets.select2=function(t,n){function r(){a=t.getInputs()[0];var r=n.placeholder||"",o={theme:"bootstrap",allowClear:!0,placeholder:r,minimumResultsForSearch:10};if(void 0!==n.url){i="ajax";var s=a.find("option[selected]");if(n.ajax={url:n.url,method:"POST",dataType:"json",delay:250,data:function(e){return{search:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.rows,pagination:{more:t.page*e.limit<e.total}}},cache:!1},delete n.url,void 0!==n.parent){var u=n.parent.selector,d=n.parent.param||"parent_id";e.utils.isEmpty($(u).val())&&(t.disable(),a.val("").trigger("change")),$(u).on("change",function(){e.utils.isEmpty($(this).val())?(t.disable(),a.val("").trigger("change")):(t.enable(),a.val("").trigger("change"))}),delete n.parent;var l=function(){return $(u).val()};n.ajax.data=function(e){var t={search:e.term,page:e.page};return t[d]=l,t}}}$.extend(o,n),a.select2(o),"ajax"===i&&(s.each(function(){a.append($(this))}),a.trigger("change"))}var a,i="local";r()},e}(hex),hex=function(e){"use strict";return e.widgets.filesimple=function(e){function t(t){e.setValue(t.target.files[0])}function n(){r=e.getInputs()[0],r.bind("change",t)}var r;n()},e}(hex),hex=function(e){"use strict";return e.widgets.fileupload=function(t,n){function r(){var e=[];for(var n in E)E[n].valid&&void 0!==E[n].id&&e.push(parseInt(E[n].id));t.setValue(e),h.trigger("change")}function a(){var e=!1;for(var t in E)if(E[t].loading===!0){e=!0;break}C.loading=e}function i(e,t){var n=b.clone();void 0!==t&&n.addClass(t),n.find("i").attr("title",e.name).html(e.name);var r=n.find(".upload-preview");return void 0!==e.url?(r.attr("href",e.url),void 0!==e.thumb&&r.html('<img src="'+e.thumb+'"/>')):r.hide(),n.get(0).outerHTML}function o(){var e="";for(var t in E)e+=i(E[t]);m.html(e),m.find("thumb").each(function(e){E[e].setElement($(this))})}function s(e){if(y){for(var t in E)E[t].remove(!0);m.find("thumb").remove(),r()}var n=new D({uid:e.uniqueIdentifier,name:e.name,loading:!0}),o=i(n,"upfile-new loading");m.append(o),n.setElement(m.find("thumb:last-child")),E.push(n),n.progress(5),a()}function u(e){for(var t=E.length,n=0;t>=n;n++)if(E[n].uid===e)return E[n];return!1}function d(e,t){var n=u(e.uniqueIdentifier);n!==!1&&n.error(t),a()}function l(e,t){var n=u(e.uniqueIdentifier);n!==!1&&n.complete(t),a()}function c(e){var t=Math.floor(e.size/100),n=Math.floor(e.sizeUploaded()/t),r=u(e.uniqueIdentifier);r!==!1&&r.progress(n)}function f(){var e=[];m.find("thumb").each(function(){var t=$(this).attr("id");for(var n in E)E[n].rid===t&&e.push(E[n])}),E=e,r()}function v(){if(h=t.getInputs()[0],w="u_"+h.attr("id")+"_",void 0!==n.types){x=[];var a=/$[\.]/;for(var i in n.types){var u=n.types[i];a.test(u)||(u="."+u),x.push(u)}}if(n.single===!0&&(y=!0),void 0!==n.limit&&(k=parseInt(n.limit),isNaN(k)&&(k=1),0===k&&(k=0),delete n.limit),void 0===n.url)throw new Error("doesnt set url paremetr on "+t.name);p=n.url;var v={target:p,singleFile:y,simultaneousUploads:5,chunkSize:262144,maxChunkRetries:void 0,allowDuplicateUploads:!1,prioritizeFirstAndLastChunk:!0,generateUniqueIdentifier:function(t){var n="file_";return n+=t.size,n+=t.name,n+=w,n=e.utils.md5(n)}};if(g=new Flow(v),b=h.closest(".form-group").find(".upload-dropzone *").first().clone(!1),h.closest(".form-group").find(".upload-dropzone *").remove(),m=h.closest(".form-group").find(".upload-dropzone"),m.on("dragenter",function(){$(this).addClass("drag")}),m.on("dragover",function(){$(this).addClass("drag")}),m.on("dragend",function(){$(this).removeClass("drag")}),m.on("drop",function(){$(this).removeClass("drag")}),m.on("mouseout",function(){$(this).removeClass("drag")}),m.on("dragleave",function(){$(this).removeClass("drag")}),!y){var C=dragula([m[0]],{mirrorContainer:m.closest(".form-group")[0],direction:"horizontal",copy:!1,copySortSource:!1});C.on("drop",function(){f()})}var O=h.data("hexFiles");if(void 0!==O){for(var S in O){var P=new D(O[S]);E.push(P)}o()}if(r(),g.support){var N={};void 0!==x&&(N.accept=x.join(",")),g.assignBrowse(h.closest(".form-group").find("[data-upload]")[0],!1,y,N),g.assignDrop(m[0]),g.on("fileAdded",function(e){var t=!0;return void 0!==x&&x.indexOf("."+e.getType())<0&&(t=!1),t?s(e):(s(e),d(e,'"'+e.name+'" - неверный тип файла. Разрешены файлы типа: '+x.join(", "))),t}),g.on("fileSuccess",function(e,t){t=$.parseJSON(t),l(e,t)}),g.on("fileError",function(e,t){d(e,t)}),g.on("filesSubmitted",function(){g.upload()}),g.on("fileProgress",function(e){c(e)})}}var h,p,g,m,x,b,w,k=0,y=!1,E=[],C=this;C.loading=!1;var D=function(e){function t(){var e=w;void 0!==i.id&&(e+="_"+i.id),void 0!==i.uid&&(e+="_"+i.uid),i.rid=e,o.attr("id",e)}function n(e){if(void 0!==e)for(var t in e)i.hasOwnProperty(t)&&(i[t]=e[t]);void 0===i.id&&(i.valid=!1)}var i=this;i.id=void 0,i.uid=void 0,i.thumb=void 0,i.url=void 0,i.name=void 0,i.valid=!0,i.rid=0,i.loading=!1;var o;i.setElement=function(e){o=e,o.on("click","remove",function(e){return e.preventDefault(),i.remove(),!1}),t()},i.progress=function(e){i.valid=!1,o.find("p").show().css("width",e+"%")},i.complete=function(e){i.valid=!0,i.loading=!1,n(e),o.removeClass("loading");var t=o.find(".upload-preview");t.attr("href",i.url),t.show(),void 0!==i.thumb&&t.html('<img src="'+i.thumb+'"/>'),o.find("p").hide(),i.loading=!1,r()},i.remove=function(e){i.valid=!1,i.loading=!1;var t=E.indexOf(i);t>=0&&(C.uploaderRemoveFile(i.uid),E.splice(t,1)),e===!0?o.remove():o.fadeOut(function(){o.remove()}),a(),r()},i.error=function(e){i.valid=!1,i.loading=!1,o.find("p").hide(),o.removeClass("loading"),e="! Ошибка:<br/>"+e,o.find(".frame").html('<div class="upload-error">'+e+"</div>"),o.addClass("upfile-error"),o.removeClass("upfile-new");var t=E.indexOf(i);t>=0&&(C.uploaderRemoveFile(i.uid),E.splice(t,1))},n(e)};C.uploaderRemoveFile=function(e){var t=g.files;for(var n in t)if(t[n].uniqueIdentifier===e){g.removeFile(t[n]);break}},v()},e}(hex),hex=function(e){"use strict";return e.validators.required=function(t,n){function r(){void 0!==n.events&&a.setEvents(n.events)}var a=this,i=["blur","change","keyup"];a.weight=0;var o="required";a.getClassName=function(){return o},a.setEvents=function(e){i=e},a.getEvents=function(){return i},a.isValid=function(t){return!e.utils.isEmpty(t)},void 0!==n&&r()},e}(hex),hex=function(e){"use strict";return e.validators.email=function(t,n){function r(){void 0!==n.events&&a.setEvents(n.events)}var a=this,i="email";a.getClassName=function(){return i};var o=["change","keyup"],s=/^\S+[@]\S+\.\S{2,10}$/i;a.weight=1,a.setEvents=function(e){o=e},a.getEvents=function(){return o},a.isValid=function(t){return e.utils.isEmpty(t)?!0:s.test(t)},r()},e}(hex),hex=function(e){"use strict";return e.validators.unique=function(e,t){function n(){void 0!==t.events&&r.setEvents(t.events),void 0!==t.url&&(i=t.url)}var r=this,a="unique";r.getClassName=function(){return a};var i,o=!1,s=!1,u=["change","keyup","blur"];r.weight=5,r.setEvents=function(e){u=e},r.getEvents=function(){return u},r.isValid=function(e){if(s!==!1&&s.abort(),o!==e){s=$.ajax({url:i,data:{value:e},method:"POST",async:!1});var t=s.responseText;return o="true"===t?e:!1,t}return!0},n()},e}(hex),hex=function(e){"use strict";return e.validators.stringLength=function(e,t){function n(){void 0!==t.min&&(r=t.min),void 0!==t.max&&(a=t.max),void 0!==t.events&&i.setEvents(t.events)}var r,a,i=this,o="string-length";i.getClassName=function(){return o};var s=["change","keyup","blur"];i.weight=3,i.setEvents=function(e){s=e},i.getEvents=function(){return s},i.isValid=function(e){var t=e.length;return void 0!==r&&r>t?(o="string-length-min",!1):void 0!==a&&t>a?(o="string-length-max",!1):!0},n()},e}(hex),hex=function(e){"use strict";return e.validators.passwordConfirm=e.validators.confirm=function(e,t){function n(){void 0!==t.events&&r.setEvents(t.events),void 0!==t.password&&(o=$(t.password))}var r=this,a="password-confirm";r.getClassName=function(){return a};var i=["change","keyup","blur"];r.weight=4;var o;r.setEvents=function(e){i=e},r.getEvents=function(){return i},r.isValid=function(e){return o.val()===e},n()},e}(hex),hex=function(e){"use strict";return e.validators.mask=function(t,n){function r(){void 0!==n.events&&i.setEvents(n.events),a=t.getInputs()[0]}var a,i=this,o="mask",s=["blur"];i.getClassName=function(){return o},i.weight=4,i.setEvents=function(e){s=e},i.getEvents=function(){return s},i.isValid=function(t){if(e.utils.isEmpty(t))return!0;var n=a.inputmask("option","mask");return Inputmask.isValid(a.val(),{alias:n})},r()},e}(hex),hex=function(e){"use strict";return e.validators.phone=function(t,n){function r(){void 0!==n.events&&i.setEvents(n.events),a=t.getInputs()[0]}var a,i=this,o="phone",s=["blur"];i.getClassName=function(){return o},i.weight=4,i.setEvents=function(e){s=e},i.getEvents=function(){return s},i.isValid=function(t){if(e.utils.isEmpty(t))return!0;var n=a.inputmask("option","mask");return Inputmask.isValid(a.val(),{alias:n})},r()},e}(hex),hex=function(e){"use strict";return e.validators.date=function(t,n){function r(){void 0!==n.events&&a.setEvents(n.events),o=t.getInputs()[0]}var a=this,i=["change","keyup","blur"];a.weight=3;var o,s="date";a.getClassName=function(){return s},a.setEvents=function(e){i=e},a.getEvents=function(){return i},a.isValid=function(t){if(e.utils.isEmpty(t))return!0;var n=o.inputmask("option","mask");return Inputmask.isValid(o.val(),{alias:n})},r()},e}(hex),hex=function(e){"use strict";return e.Render=function(){function t(){a=[];for(var t=0,n=i.length;n>t;t++)a=a.concat(i[t].variables);return a=e.utils.arrayUniq(a)}function n(){a=void 0}function r(){var n=[],r=$.extend({},o);void 0===a&&(a=t());for(var u=0,d=a.length;d>u;u++){var l=a[u],c=e.utils.objectProperty(r,l);void 0===c&&(e.utils.objectProperty(r,l,""),c=""),JSON.stringify(c)!==s[l]&&n.push(l)}if(void 0!==n&&n.length>0){var f=i.filter(function(e){for(u=0,d=n.length;d>u;u++)if(e.variables.indexOf(n[u])>=0)return!0;return!1});for(u=0,d=f.length;d>u;u++)f[u].render(r);for(u=0,d=n.length;d>u;u++)s[n[u]]=JSON.stringify(e.utils.objectProperty(o,n[u]))}}var a,i=[],o={},s={},u={directives:i,data:o,draw:r,clear:n};return u},e}(hex),hex=function(e){"use strict";return e.Block=function(t,n){function r(){return y}function a(){return S}function i(e){return void 0===e?j:j[e]}function o(){for(var e=0,t=P.length;t>e;e++)P[e].validate(!0)||console.warn(P[e].getName());for(e=0,t=D.length;t>e;e++)D[e].logErrors()}function s(e){var t=i(e.namespace);if(void 0!==t){for(var n=0,r=t.length;r>n;n++)t[n].add(e.item);b.draw()}}function u(e){var t=n.getLists(e.namespace);if(void 0!==t){for(var r=0,a=t.length;a>r;r++)t[r].remove(e.index);b.draw()}}function d(t){var n=t.node.get(0).querySelectorAll("[data-hex-bind-html],[data-hex-bind-for],[data-hex-bind-class],[data-hex-bind-id],[data-hex-bind-href],[data-hex-bind-disabled],[data-hex-bind-name],[data-hex-bind-src],[data-hex-show],[data-hex-hide],[data-hex-list],[data-hex-list-add],[data-hex-list-remove],[data-hex-if]");n=Array.prototype.slice.call(n),n.push(t.node.get(0));for(var r=0,a=n.length;a>r;r++){var i=$(n[r]);if(i.parents("[data-hex-block]").first().get(0)===t.node.get(0)||i.get(0)===t.node.get(0)){var o=e.utils.getAttributes(i);for(var d in o)if(o.hasOwnProperty(d))switch(d){case"data-hex-bind-html":case"data-hex-bind-css":case"data-hex-bind-disabled":case"data-hex-bind-name":case"data-hex-bind-href":case"data-hex-bind-src":case"data-hex-bind-id":case"data-hex-bind-for":E.push(new e.directives.Bind({node:i,attribute:d,namespaceFull:S}));break;case"data-hex-show":E.push(new e.directives.Show({node:i,namespaceFull:S}));break;case"data-hex-if":i.get(0)!==t.node.get(0)&&E.push(new e.directives.If({node:i,namespaceFull:S,block:t}));break;case"data-hex-list":var l=new e.directives.List({node:i,namespaceFull:S,data:t.getData(),block:t});void 0===j[l.getNamespace()]&&(j[l.getNamespace()]=[]),j[l.getNamespace()].push(l),E.push(l);break;case"data-hex-list-add":var c=new e.directives.ListAdd({node:i});c.on("add",s),I.push(c);break;case"data-hex-list-remove":var f=new e.directives.ListRemove({node:i});f.on("remove",u),F.push(f)}for(var v=0,h=E.length;h>v;v++)b.directives.indexOf(E[v])&&b.directives.push(E[v])}}}function l(t){e.utils.objectExtend(C,t)}function c(){return C}function f(e){for(var t=!0,n=0,r=P.length;r>n;n++)P[n].validate(e)||(t=!1);for(n=0,r=D.length;r>n;n++)D[n].validate(e)||(t=!1);return k=t}function v(){k=!0;for(var e=0,t=P.length;t>e;e++)P[e].reset();for(e=0,t=D.length;t>e;e++)D[e].reset();b.draw()}function h(t){for(var n=C,r=t.getName(),a=r.replace(/['"]/g,"").replace(/[\[\]]/g,".").replace(/\.+/g,".").replace(/\.$/,"").split("."),i=a.length-1,o=0;i>=o;o++){var s=a[o];i>o?(void 0===n[s]&&(e.utils.isInt(s)?n[s]=[]:n[s]={}),n=n[s]):$.isArray(n)?n.splice(s,1):$.isPlainObject(n)&&delete n[s]}}function p(t){for(var n=C,r=t.getName(),a=r.replace(/['"]/g,"").replace(/[\[\]]/g,".").replace(/\.+/g,".").replace(/\.$/,"").split("."),i=a.length-1,o=0;i>=o;o++){var s=a[o];i>o?(void 0===n[s]&&(e.utils.isInt(s)?n[s]=[]:n[s]={}),n=n[s]):Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:t.getValue,set:t.setValue})}t.on("change",function(e){b.draw()}),t.on("disable",function(){}),t.on("enable",function(){}),t.on("validate",function(){w.validate(!1),b.draw()})}function g(e,t){var n={};for(var r in e){var a,i=e[r],o=i.attr("name"),s=i.closest(".form-group");s.size()<=0?s=void 0:(a=s.children(".errors"),a.size()<=0&&(a=void 0));var u=i.prop("tagName").toLowerCase(),d=u,l={type:d,inputs:[i],formGroup:s,errorsBlock:a,block:t,name:o};switch(u){case"select":case"textarea":break;case"input":switch(d=i.attr("type").toLowerCase()){default:l.type=d;break;case"checkbox":d="checkbox",l.type=d,void 0!==i.attr("value")&&(l.trueValue=i.attr("value")),void 0!==i.attr("data-hex-true-value")&&(l.trueValue=i.attr("data-hex-true-value")),void 0!==i.attr("data-hex-false-value")&&(l.falseValue=i.attr("data-hex-false-value"));break;case"radio":l.type="radio"}}void 0===n[o]?n[o]=l:n[o].inputs.push(i)}for(var c in n)n.hasOwnProperty(c)&&P.push(new hex.Control(n[c]));for(var f=0,v=P.length;v>f;f++)p(P[f])}function m(e){var n=[];e.node.find('input[type!="submit"],select,textarea').each(function(){var e=$(this),r=e.closest("[data-hex-block]");r.get(0)===t.get(0)&&n.push(e)}),e.node.find("[data-hex-block]").each(function(){var t=$(this);t.parents("[data-hex-block]:first").get(0)===e.node.get(0)&&e.addBlock(t)}),g(n,e)}function x(){if(B.node=t,t.get(0).getBlock=function(){return B},void 0!==n?(w=n.root,b=B.render=n.render):(w=B,n=!1,B.parent=!1,N=!0,b=B.render=new e.Render,C=b.data),B.root=w,n!==!1&&(S=n.getNamespaceFull()),e.utils.isEmpty(t.attr("data-hex-block"))||(O=t.attr("data-hex-block"),B.index=t.closest('[data-hex-list="'+O+'"]').children('[data-hex-block="'+O+'"]').index(t),S+="['"+O+"']['"+B.index+"']"),e.utils.isEmpty(O)&&n!==!1&&(C=n.getData()),!e.utils.isEmpty(O)&&n!==!1){var r=n.getData();void 0!==r&&(void 0===r[O],r=r[O],void 0===r[B.index]?r[B.index]=C:C=r[B.index])}void 0!==t.attr("id")&&(y=t.attr("id"),Object.defineProperty(C,"$"+y,{enumerable:!0,configurable:!0,get:function(){return k},set:function(e){k=e}})),e.utils.isEmpty(O)||(C.$index=B.index),e.utils.isEmpty(n)||(C.$parentIndex=n.getData().$index),Object.defineProperty(C,"$valid",{enumerable:!0,configurable:!0,get:function(){return k},set:function(e){k=e}}),d(B),m(B),b.clear()}var b,w,k=!0,y=!1,E=[],C={},D=[],O="",S="",P=[],N=!1,j={},I=[],F=[],B={controls:P,parent:n,childBlocks:D,$hexBlock:!0,validate:f,reset:v,getId:r,getLists:i,setData:l,getData:c,logErrors:o,getNamespaceFull:a};return B.addBlock=function(t){void 0===t.$hexBlock&&(t=new e.Block(t,B));var n=D.indexOf(t);return-1===n?(D.push(t),t):D[n]},B.remove=function(){if(B.controls.forEach(function(e){h(e)}),n!==!1){if(!e.utils.isEmpty(O)&&void 0!==n.getData()[O]&&$.isArray(n.getData()[O])){var r=n.getData()[O].indexOf(C);-1!==r&&n.getData()[O].splice(r,1)}var a=n.childBlocks.indexOf(B);-1!==a&&n.childBlocks.splice(a,1);for(var i=0,o=E.length;o>i;i++){var s=b.directives.indexOf(E[i]);-1!==s&&b.directives.splice(s,1)}b.clear(),w.validate(!1)}B.childBlocks.forEach(function(e){e.remove()}),t.remove()},x(),B},e}(hex),hex=function(e){"use strict";return e.Control=function(t){function n(){switch(C){case"text":default:if(void 0!==T.date){var e=j[0].data("daterangepicker");if(void 0===e)return j[0].val();if(""===j[0].val())return!1;var t="",n="YYYY-MM-DD";if(e.timePicker===!0&&(n+=" HH:mm"),t+=e.startDate.format(n),e.singleDatePicker===!1){var r=e.endDate.format(n);t+=" - "+r}return t}return void 0!==T.fileupload||void 0!==T.filesimple?D:j[0].val();case"radio":for(var a in j)if(j.hasOwnProperty(a)&&j[a].is(":checked")===!0)return j[a].val();return!1;case"checkbox":return j[0].is(":checked")===!0?_:R}}function r(){switch(C){case"file":break;case"text":default:if(void 0!==T.date){if(!e.utils.isEmpty(D)){var t=j[0].data("daterangepicker"),n=D.split(" - ");void 0!==n[0]&&t.setStartDate(moment(n[0])),void 0!==n[1]&&t.setEndDate(moment(n[1]))}}else j[0].val(D);case"radio":for(var r in j)if(j.hasOwnProperty(r)&&j[r].is(":checked")===!0)return j[r].val();return!1;case"checkbox":return j[0].is(":checked")===!0?_:R}}function a(){return E}function i(e,t){void 0===F[e]&&(F[e]=[]),F[e].indexOf(t)<0&&F[e].push(t)}function o(e,t){void 0!==F[e]&&F[e].splice(F[e].indexOf(t),1)}function s(e,t){if(void 0===F[e])return!0;for(var n in F[e]){var r=F[e][n];r(t)}}function u(){return j}function d(e){D!==e&&(D=e,r())}function l(){return z?void 0:D}function c(e){return function(t,n){return"number"==typeof t[e]?t[e]-n[e]:t[e]<n[e]?-1:t[e]>n[e]?1:0}}function f(){void 0!==P&&P.removeClass("has-error"),void 0!==N&&N.find("span").removeClass("active");
}function v(){if(void 0!==N)for(var e=0,t=I.length;t>e;e++)N.find(".error-"+I[e]).addClass("active");void 0!==P&&P.addClass("has-error")}function h(){S=O,d(O),f()}function p(e){if(void 0===e)return V;if(e!==!1&&e!==!0)throw new Error("Wrong value in readonly method ");for(var t=0,n=j.length;n>t;t++)j[t].prop("readonly",e);V=e}function g(){for(var e=0,t=j.length;t>e;e++)j[e].prop("disabled",!0);z=!0,s("disable")}function m(){for(var e=0,t=j.length;t>e;e++)j[e].prop("disabled",!1);z=!1,s("enable")}function x(e){if(e===!1)return L;if(S=D,I=[],!z)for(var t in A)if(A.hasOwnProperty(t)&&!A[t].isValid(D)){I.push(A[t].getClassName());break}return I.length>0?(L=!1,v()):(L=!0,f()),s("validate",e),L}function b(t,n){var r={};if(t=e.utils.toCamel(t),void 0!==n&&""!==n&&$.extend(r,jQuery.parseJSON(n)),void 0!==e.validators[t]){var a=new e.validators[t](q,r),i=a.getEvents();for(var o in i)i.hasOwnProperty(o)&&(B[i[o]]=!0);A.push(a)}else console.warn('Validator "'+t+'" not loaded!')}function w(t,n){t=e.utils.toCamel(t);var r={};void 0!==n&&""!==n&&$.extend(r,jQuery.parseJSON(n)),void 0!==e.widgets[t]?T[t]=new e.widgets[t](q,r):console.warn('Widget "'+t+'" not loaded!')}function k(t){j.push(t);var r=e.utils.getAttributes(t);for(var a in r)if(r.hasOwnProperty(a)){var i=a.match(/^data-hex-widget-(.*)$/i);if(null!==i&&void 0!==i[1]&&w(i[1],r[a]),"required"===a)b("required",r[a]);else{var o=a.match(/^data-hex-validator-(.*)$/i);null!==o&&void 0!==o[1]&&b(o[1],r[a])}}t.on("change",function(){d(n()),s("change",D)}),"text"!==C&&"textarea"!==C||t.on("keyup",function(){d(n()),s("change",D)}),A.sort(c("weight"));for(var u in B)B.hasOwnProperty(u)&&t.on(u,x);t.prop("disabled")&&g(),t.prop("readonly")&&p(!0),t.on("disable",function(){g()}),t.on("enable",function(){m()})}function y(e){if(C=e.type,"checkbox"===C&&(void 0!==e.trueValue&&(_=e.trueValue),void 0!==e.falseValue&&(R=e.falseValue)),E=e.name,void 0===E&&(console.error("Control dont have name"),console.error(e.inputs)),P=e.formGroup,N=e.errorsBlock,void 0!==e.inputs)for(var t in e.inputs)e.inputs.hasOwnProperty(t)&&k(e.inputs[t]);D=O=n(),S=D,f()}var E,C,D,O,S,P,N,j=[],I=[],F={},B={},V=!1,z=!1,L=!0,A=[],T={},_=!0,R=!1,q={getName:a,setValue:d,getValue:l,reset:h,readonly:p,disable:g,enable:m,validate:x,getInputs:u,on:i,off:o,trigger:s,toString:function(){return l()},valueOf:function(){return l()},toJSON:function(){return l()}};return y(t),q},e}(hex),hex=function(e){"use strict";function t(t){function n(){var e=$.extend({},o.root.getData());return e}function r(){s.find(".has-error").removeClass("has-error"),s.find(".alerts div").remove()}function a(e){var t=o.trigger("beforeReset",{values:n()});t?window.setTimeout(function(){r(),o.root.reset()},1):e.preventDefault(),o.trigger("afterReset",{})}function i(e,t){var n="";void 0!==t&&(n=t);for(var r in e){var a=e[r];if(r+="",0!==r.indexOf("$")){var o=r;""!==n&&(o=n+"["+r+"]"),$.isArray(a)||$.isPlainObject(a)?i(a,o):l.append(o,a)}}}var o=this;o.errorText="Не удалось сохранить форму, попробуйте обновить страницу",o.invalidText="Форма содержит ошибки";var s=$("#"+t),u={},d="formdata";o.root=void 0;var l=new FormData,c=function(e){this.type=e,this.stoped=!1,this.stop=function(){this.stoped=!0}};o.on=function(e,t){void 0===u[e]&&(u[e]=[]),u[e].indexOf(t)<0&&u[e].push(t)},o.off=function(e,t){void 0!==u[e]&&u[e].splice(u[e].indexOf(t),1)},o.trigger=function(e,t){if(void 0!==u[e]){var n=new c(e);for(var r in u[e]){var a=u[e][r];a(t,n)}return!n.stoped}return!0},o.getHandlers=function(){return u};var f=function(e){e.preventDefault(),e.stopPropagation();var t=o.root.validate(!0);if(t===!0){r();var a=n();console.log(a);var u=o.trigger("beforeSubmit",{values:a});if(u){o.loaderShow();var c=s.attr("action"),f=s.find("button[type=submit]:focus");f.size()>0&&void 0!==f.attr("data-action")&&(c=f.attr("data-action"));var v="POST";void 0!==s.attr("method")&&(v=s.attr("method")),"formdata"===d?i(a):l=a,$.ajax({url:c,data:l,type:v,dataType:"json",processData:!1,contentType:!1,success:function(e){var t=o.trigger("afterSubmit",e);t&&window.setTimeout(function(){if(e.success===!0?(r(),void 0!==e.reload?e.reload===!0?window.location.href=window.location.href:window.location.href=e.reload:o.loaderHide()):o.loaderHide(),void 0!==e.alerts){for(var t in e.alerts){var n=e.alerts[t];s.find(".alerts").append($("<div>").addClass("alert alert-"+n.type).html(n.text))}o.loaderHide()}},1)},error:function(){o.loaderHide(),s.find(".alerts").append($("<div>").addClass("alert alert-danger").html(o.errorText))}})}}else s.find(".alerts div").remove(),s.find(".alerts").append($("<div>").addClass("alert alert-danger").html(o.invalidText));return!1};o.loaderShow=function(){s.find(".loader").show()},o.loaderHide=function(){s.find(".loader").hide()},o.submit=function(){f()},o.getValues=function(){return n()};var v=function(){s.addClass("loader-container").append('<div class="loader"></div>'),s.attr("data-hex-block",""),s.on("submit",f),s.on("reset",a),0===s.find(".loader").size()&&s.append('<div class="loader"></div>'),void 0!==s.data("datatype")&&(d=s.data("datatype")),o.root=new e.Block(s)};return v(),o}var n={};return e.form=function(e){if(void 0!==e)return void 0===n[e]&&(n[e]=new t(e)),n[e];var r=$("form.hex-form");return r.each(function(){var e=$(this).attr("id");if(void 0===e)throw new Error("Form dont have id attr");void 0===n[e]&&(n[e]=new t(e))}),n},$(document).ready(function(){e.form()}),e}(hex);